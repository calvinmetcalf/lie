!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Promise=e()}}(function(){return function e(t,n,r){function o(i,u){if(!n[i]){if(!t[i]){var a="function"==typeof require&&require;if(!u&&a)return a(i,!0);if(s)return s(i,!0);throw new Error("Cannot find module '"+i+"'")}var c=n[i]={exports:{}};t[i][0].call(c.exports,function(e){var n=t[i][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t){"use strict";function n(){}t.exports=n},{}],2:[function(e,t){"use strict";var n=e("./INTERNAL"),r=e("./promise"),o=e("./reject"),s=e("./resolve"),i=e("./handlers");t.exports=function(e){function t(e,t){s(e).then(function(e){a[t]=e,++c===u&&i.resolve(l,a)},function(e){i.reject(l,e)})}if("[object Array]"!==Object.prototype.toString.call(e))return o(new TypeError("must be an array"));var u=e.length;if(!u)return s([]);for(var a=[],c=0,f=-1,l=new r(n);++f<u;)t(e[f],f);return l}},{"./INTERNAL":1,"./handlers":4,"./promise":7,"./reject":9,"./resolve":10}],3:[function(e,t){"use strict";function n(e){var t=e&&e.then;return e&&"object"==typeof e&&"function"==typeof t?function(){t.apply(e,arguments)}:void 0}t.exports=n},{}],4:[function(e,t,n){"use strict";var r=e("./tryCatch"),o=e("./getThen"),s=e("./resolveThenable"),i=e("./states");n.resolve=function(e,t){var u=r(o,t);if("error"===u.status)return n.reject(e,u.value);var a=u.value;if(a)s.safely(e,a);else{e.state=i.FULFILLED,e.outcome=t;for(var c=-1,f=e.queue.length;++c<f;)e.queue[c].callFulfilled(t)}return e},n.reject=function(e,t){e.state=i.REJECTED,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e}},{"./getThen":3,"./resolveThenable":11,"./states":12,"./tryCatch":13}],5:[function(e,t,n){t.exports=n=e("./promise"),n.resolve=e("./resolve"),n.reject=e("./reject"),n.all=e("./all")},{"./all":2,"./promise":7,"./reject":9,"./resolve":10}],6:[function(e,t){"use strict";function n(){var e=0;return function(t){return function(){e++||t.apply(this,arguments)}}}t.exports=n},{}],7:[function(e,t){"use strict";function n(e){if(!(this instanceof n))return new n(e);if("function"!=typeof e)throw new TypeError("reslover must be a function");this.state=i.PENDING,this.queue=[],e!==o&&s.safely(this,e)}var r=e("./unwrap"),o=e("./INTERNAL"),s=e("./resolveThenable"),i=e("./states"),u=e("./queueItem");t.exports=n,n.prototype["catch"]=function(e){return this.then(null,e)},n.prototype.then=function(e,t){if("function"!=typeof e&&this.state===i.FULFILLED||"function"!=typeof t&&this.state===i.REJECTED)return this;var s=new n(o);if(this.state!==i.PENDING){var a=this.state===i.FULFILLED?e:t;r(s,a,this.outcome)}else this.queue.push(new u(s,e,t));return s}},{"./INTERNAL":1,"./queueItem":8,"./resolveThenable":11,"./states":12,"./unwrap":14}],8:[function(e,t){"use strict";function n(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}var r=e("./handlers"),o=e("./unwrap");t.exports=n,n.prototype.callFulfilled=function(e){r.resolve(this.promise,e)},n.prototype.otherCallFulfilled=function(e){o(this.promise,this.onFulfilled,e)},n.prototype.callRejected=function(e){r.reject(this.promise,e)},n.prototype.otherCallRejected=function(e){o(this.promise,this.onRejected,e)}},{"./handlers":4,"./unwrap":14}],9:[function(e,t){"use strict";function n(e){var t=new r(o);return s.reject(t,e)}var r=e("./promise"),o=e("./INTERNAL"),s=e("./handlers");t.exports=n},{"./INTERNAL":1,"./handlers":4,"./promise":7}],10:[function(e,t){"use strict";function n(e){if(e)return s.resolve(new r(o),e);var t=typeof e;switch(t){case"boolean":return i;case"undefined":return a;case"object":return u;case"number":return c;case"string":return f}}var r=e("./promise"),o=e("./INTERNAL"),s=e("./handlers");t.exports=n;var i=s.resolve(new r(o),!1),u=s.resolve(new r(o),null),a=s.resolve(new r(o),void 0),c=s.resolve(new r(o),0),f=s.resolve(new r(o),"")},{"./INTERNAL":1,"./handlers":4,"./promise":7}],11:[function(e,t,n){"use strict";function r(e,t){var n=o(),r=n(function(t){return s.reject(e,t)}),u=i(function(){t(n(function(t){return s.resolve(e,t)}),r)});"error"===u.status&&r(u.value)}var o=e("./once"),s=e("./handlers"),i=e("./tryCatch");n.safely=r},{"./handlers":4,"./once":6,"./tryCatch":13}],12:[function(e,t,n){n.REJECTED=["REJECTED"],n.FULFILLED=["FULFILLED"],n.PENDING=["PENDING"]},{}],13:[function(e,t){"use strict";function n(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}t.exports=n},{}],14:[function(e,t){"use strict";function n(e,t,n){r(function(){var r;try{r=t(n)}catch(s){return o.reject(e,s)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)})}var r=e("immediate"),o=e("./handlers");t.exports=n},{"./handlers":4,immediate:16}],15:[function(e,t,n){"use strict";n.test=function(){return!1}},{}],16:[function(e,t){"use strict";function n(){for(var e;e=s.shift();)e()}for(var r,o=[e("./nextTick"),e("./mutation"),e("./postMessage"),e("./messageChannel"),e("./stateChange"),e("./timeout")],s=[],i=-1,u=o.length;++i<u;)if(o[i].test()){r=o[i].install(n);break}t.exports=function(e){var t,o,i,u=e;if(arguments.length>1&&"function"==typeof e){for(i=new Array(arguments.length-1),o=0;++o<arguments.length;)i[o-1]=arguments[o];u=function(){e.apply(void 0,i)}}return 1===(t=s.push(u))&&r(n),t},t.exports.clear=function(e){return e<=s.length&&(s[e-1]=function(){}),this}},{"./messageChannel":17,"./mutation":18,"./nextTick":15,"./postMessage":19,"./stateChange":20,"./timeout":21}],17:[function(e,t,n){(function(e){"use strict";n.test=function(){return e.setImmediate?!1:"undefined"!=typeof e.MessageChannel},n.install=function(t){var n=new e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t,n){(function(e){"use strict";var t=e.MutationObserver||e.WebKitMutationObserver;n.test=function(){return t},n.install=function(n){var r=0,o=new t(n),s=e.document.createTextNode("");return o.observe(s,{characterData:!0}),function(){s.data=r=++r%2}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(e,t,n){(function(e){"use strict";n.test=function(){if(!e.postMessage||e.importScripts)return!1;if(e.setImmediate)return!1;var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t},n.install=function(t){function n(n){n.source===e&&n.data===r&&t()}var r="com.calvinmetcalf.setImmediate"+Math.random();return e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),function(){e.postMessage(r,"*")}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(e,t,n){(function(e){"use strict";n.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},n.install=function(t){return function(){var n=e.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n),t}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(e,t,n){"use strict";n.test=function(){return!0},n.install=function(e){return function(){setTimeout(e,0)}}},{}]},{},[5])(5)});